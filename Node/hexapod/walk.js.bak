var eps = 0.4; 

// stepSize, n_steps, direction, stepTime, startingTime, base_angles, leg_angles, n_points, gamepad

var Walk = function(gamepad, stepSize) {

	var self = this;
	this.stepSize = stepSize || 120;
	this.gamepad = gamepad;
	this.group = 0;
	this.isWalking = false;
	this.prevRadius = false;

	this.multipleStep = function(n_steps) {

	}

	this.update = function(radius, angle) {

		if (self.isWalking) {
			self.prevRadius = radius;
			return false;
		}

		if (!self.prevRadius || (self.prevRadius < eps && radius >= eps))
			self.firstStep(...);

		else if (self.prevRadius >= eps && radius < eps)
			self.lastStep(...);

		else
			self.step(...);

	}

	this.step = function() {

		self.isWalking = true;
    	setMovingFalse(stepTime * 2);   

	}	

	this.firstStep = function() {
		self.step(...);
	}

	this.lastStep = function() {
		self.step(...);
	}

};


module.exports = Walk;


// ......

var walk = new Walk();

var onGamepadMovement = function() {

	walk.update(c.r, c.a);

}